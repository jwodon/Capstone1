{% extends 'base.html' %} {% block content %}

<h1 class="text-center">Most Hyped Games</h1>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <select id="platform" class="form-select mb-3">
                <option value="">Select Platform</option>
            </select>
        </div>
        <div class="col-md-6">
            <select id="genre" class="form-select mb-3">
                <option value="">Select Genre</option>
            </select>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        {% for game in games %}
        <div class="col-md-3">
            <div class="card" style="width: 18rem">
                <img
                    src="{{ game.cover_url or url_for('static', filename='images/alt_cover_img.jpg') }}"
                    class="card-img-top"
                    alt="Placeholder Image" />
                <div class="card-body">
                    <h5 class="card-title">{{game.name}}</h5>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <b>Genre:</b> {% for genre in game.genres %} {{genre}} {{ ',' if not loop.last}} {% endfor %}
                    </li>
                    <li class="list-group-item">
                        <b>Platform:</b>{% for platform in game.platforms %} {{platform}} {{ ', ' if not loop.last}} {%
                        endfor %}
                    </li>
                    <li class="list-group-item">
                        {% if game.aggregated_rating %}
                        <b>Critic Rating:</b> {{ game.aggregated_rating | float | round }} ({{
                        game.aggregated_rating_count }} reviews) {% else %} <b>Critic Rating:</b> Not Yet Available {% endif %}
                    </li>
                    <li class="list-group-item">
                        {% if game.aggregated_rating %}
                        <b>GameSphere Rating:</b> {{ game.aggregated_rating | float | round }} ({{
                        game.aggregated_rating_count }} reviews) {% else %} <b>GameSphere Rating:</b> Not Yet Available {% endif %}
                    </li>
                </ul>
                <div class="card-body">
                    <a href="/games/{{ game.id }}" class="card-link">Details</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<nav aria-label="Page navigation example">
    <ul class="pagination pagination-lg justify-content-center">
        {% if page > 1 %}
        <li class="page-item"><a class="page-link" href="/?page={{ page - 1 }}">Previous</a></li>
        {% endif %} {% if games|length == 20 %}
        <li class="page-item"><a class="page-link" href="/?page={{ page + 1 }}">Next</a></li>
        {% endif %}
    </ul>
</nav>
{% endblock %}
